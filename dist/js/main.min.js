$(document).ready(function(){function e(){$("#formContainer").addClass("form-section--opaque");var e=$("#postcodeInput").val(),a="https://api.getAddress.io/find/"+e+"?api-key=hTbZuAf_U0qpOvh_9Dj2_g11344";$.ajax({type:"GET",url:a,data:e,success:function(e){console.log("Success!"),console.log(e);var a=e.addresses;$("#formContainer").removeClass("form-section--opaque"),$("#postcodeInput").attr("disabled",!0),$("#postcodeInput").addClass("form-fieldset__input--disabled"),function(e){$("#errorMessage").before($('<fieldset id="addressFieldset" class="form-fieldset form-fieldset--hidden"><legend class="form-fieldset__legend">Select your address:</legend><select required id="addressInput" class="form-fieldset__select form-fieldset__select--left form-fieldset__select--wide"><option value="" disabled selected hidden>Select your address</option></select></fieldset>'));for(var a=0;a<e.length;a++)$("<option/>").val(e[a]).html(e[a]).appendTo("#addressFieldset select");$("#addressFieldset").fadeIn(200,function(){$("#addressInput").on("change",function(){for(var e=this.value.split(", "),a=e[0],r=e[1],s=e[2],t=e[5],o=e[6],l=0;l<n.length;l++)$("<option/>").val(n[l]).html(n[l]).appendTo("#countyInput");for(var d=0;d<i.length;d++)$("<option/>").val(i[d]).html(i[d]).appendTo("#countryInput");$("#lineOneInput").val(a),$("#lineTwoInput").val(r),$("#lineThreeInput").val(s),$("#townInput").val(t),$("#countyInput").val(o),$("#countryInput").val("United Kingdom"),$("#extraFieldsContainer").fadeIn(200,function(){$(this).css("display","flex"),$("#countyInput").attr("disabled",!1),$("#countyInput").removeClass("form-fieldset__select--hidden"),$("#countryInput").on("change",function(){"United Kingdom"===this.value?($("#countyInput").attr("disabled",!1),$("#countyInput").removeClass("form-fieldset__select--hidden")):($("#countyInput").attr("disabled",!0),$("#countyInput").addClass("form-fieldset__select--hidden"))})})})})}(a)},error:function(e){console.log("Error!"),console.log(e),$("#formContainer").removeClass("form-section--opaque"),$("#errorMessage").fadeIn(200)}})}function a(){!function(e,a){$('<div class="form-section__inner form-section__inner--half form-section__inner--opaque"><p>'+e+"</p><p>"+a+"</p></div>").appendTo("#addressBoxesContainer"),$("#extraFieldsContainer").fadeOut(200,function(){$("#yearsInput").val(""),$("#monthsInput").val(""),$("#addressInput").val(""),$("#postcodeInput").val(""),$("#postcodeInput").attr("disabled",!1),$("#postcodeInput").removeClass("form-fieldset__input--disabled"),$("#addressFieldset").remove(),$("#addressBoxesContainer").is(":visible")||$("#addressBoxesContainer").fadeIn(200,function(){$(this).css("display","flex")})})}(($("#lineOneInput").val().length?$("#lineOneInput").val()+", ":"")+($("#lineTwoInput").val().length?$("#lineTwoInput").val()+", ":"")+($("#lineThreeInput").val().length?$("#lineThreeInput").val()+", ":"")+($("#townInput").val().length?$("#townInput").val()+", ":"")+("United Kingdom"===$("#countryInput").val()?$("#countyInput").val()+", ":"")+($("#countryInput").val()+"."),"Time at the address: "+$("#yearsInput").val()+", "+$("#monthsInput").val())}console.log("Hello Octopus!");var n=["Avon","Bedfordshire","Berkshire","Buckinghamshire","Cambridgeshire","Cheshire","Cleveland","Cornwall","Cumbria","Derbyshire","Devon","Dorset","Durham","East Sussex","Essex","Gloucestershire","Hampshire","Herefordshire","Hertfordshire","Isle of Wight","Kent","Lancashire","Leicestershire","Lincolnshire","Greater London","Merseyside","Middlesex","Norfolk","Northamptonshire","Northumberland","North Humberside","North Yorkshire","Nottinghamshire","Oxfordshire","Rutland","Shropshire","Somerset","South Humberside","South Yorkshire","Staffordshire","Suffolk","Surrey","Tyne and Wear","Warwickshire","West Midlands","West Sussex","West Yorkshire","Wiltshire","Worcestershire","Clwyd","Dyfed","Gwent","Gwynedd","Mid Glamorgan","Powys","South Glamorgan","West Glamorgan","Aberdeenshire","Angus","Argyll","Ayrshire","Banffshire","Berwickshire","Bute","Caithness","Clackmannanshire","Dumfriesshire","Dunbartonshire","East Lothian","Fife","Inverness-shire","Kincardineshire","Kinross-shire","Kirkcudbrightshire","Lanarkshire","Midlothian","Moray","Nairnshire","Orkney","Peeblesshire","Perthshire","Renfrewshire","Ross-shire","Roxburghshire","Selkirkshire","Shetland","Stirlingshire","Sutherland","West Lothian","Wigtownshire","Antrim","Armagh","Down","Fermanagh","Londonderry","Tyrone"],i=["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua &amp; Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia &amp; Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","BurkinaFaso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Chad","Chile","China","Colombia","Congo","Cook Islands","Costa Rica","Cote D' Ivoire","Croatia","Cruise Ship","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia","French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kuwait","Kyrgyz Republic","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda","Saint Pierre &amp; Miquelon","Samoa","San Marino","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","St Kitts &amp; Nevis","St Lucia","St Vincent","St. Lucia","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad &amp; Tobago","Tunisia","Turkey","Turkmenistan","Turks &amp; Caicos","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Venezuela","Vietnam","Virgin Islands (US)","Yemen","Zambia","Zimbabwe"];$("#addressForm").submit(function(n){n.preventDefault(),$("#extraFieldsContainer").is(":visible")?a():($("#errorMessage").fadeOut(200),e())})});